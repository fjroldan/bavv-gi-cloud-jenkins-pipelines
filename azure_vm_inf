pipeline {
	// Define the agent
    agent { label 'production_agent' }
    // Define the staging
	stages {
        stage ("provisioning") {
            steps {
                sh "rm -rf bavv-gi-cloud-terraform-azure-vm"
                sh "echo '[INFO]: Clonando repositorio de terraform...'"
                sh "git clone https://github.com/fjroldan/bavv-gi-cloud-terraform-azure-vm.git"
            }
        }
		stage ("terraform process") {
			steps {
                sh "ls"
                sh "pwd"
				sh ('terraform init')
			}
		}
        stage ("clean") {
			steps {
                sh "rm -rf bavv-gi-cloud-terraform-azure-vm"
			}
		}
	}
}